<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="calculator.title">Feeding Calculator</title>
  <link rel="stylesheet" href="./assets/site.css" />
</head>
<body>
  <nav class="navbar">
    <div class="container">
      <a href="./index.html" data-i18n="nav.home">Home</a>
      <a href="./feeding.html" data-i18n="nav.calculator">Calculator</a>
      <a href="./cards/transition-7.html" data-i18n="nav.transition7">7-Day Switch</a>
      <a href="./feedback.html" data-i18n="nav.feedback">Feedback</a>

      <select id="langSelect" aria-label="Language" style="margin-left:auto">
        <option value="en">English</option>
        <option value="zh">中文</option>
        <option value="es">Español</option>
        <option value="fr">Français</option>
      </select>
      <script>
        document.addEventListener("change", (e) => {
          if (e.target && e.target.id === "langSelect") I18N.setLang(e.target.value);
        });
      </script>
    </div>
  </nav>

  <main class="container">
    <h1 data-i18n="calculator.title">Feeding Calculator</h1>
    <p data-i18n="legal.info_boundary">Informational only. Not medical advice.</p>

    <form id="calcForm" class="grid">
      <!-- Pet -->
      <label for="petType" data-i18n="feeding.pet_type.label">Pet</label>
      <select id="petType">
        <option value="dog" data-i18n="feeding.pet_type.dog">Dog</option>
        <option value="cat" data-i18n="feeding.pet_type.cat">Cat</option>
      </select>

      <!-- Weight -->
      <label for="weight" data-i18n="feeding.weight.label">Weight</label>
      <input id="weight" type="number" step="0.01" min="0" data-i18n-placeholder="feeding.weight.placeholder" placeholder="Enter weight"/>

      <!-- Unit -->
      <label for="unit" data-i18n="feeding.unit.label">Unit</label>
      <select id="unit">
        <option value="kg" data-i18n="feeding.unit.kg">kg</option>
        <option value="lb" data-i18n="feeding.unit.lb">lb</option>
      </select>

      <!-- Activity -->
      <label for="activity" data-i18n="feeding.activity.label">Activity</label>
      <select id="activity">
        <option value="resting" data-i18n="feeding.activity.resting">Resting</option>
        <option value="normal" data-i18n="feeding.activity.normal">Normal</option>
        <option value="active" data-i18n="feeding.activity.active">Active</option>
      </select>

      <!-- Food info -->
      <label for="kcalPerCup" data-i18n="feeding.kcal_per_cup.label">kcal per cup</label>
      <input id="kcalPerCup" type="number" step="1" min="0" value="350" />

      <label for="gramsPerCup" data-i18n="feeding.grams_per_cup.label">grams per cup</label>
      <input id="gramsPerCup" type="number" step="1" min="0" value="110" />
    </form>

    <p>
      <button id="calcBtn" data-i18n="feeding.calculate">Calculate</button>
      <a href="./index.html" data-i18n="common.back_home" style="margin-left:12px">Back to Home</a>
    </p>

    <section>
      <h2 data-i18n="result.title">Result</h2>
      <div id="result"></div>
    </section>

    <footer>
      <p>© Pet Scan</p>
    </footer>
  </main>

  <script src="./assets/i18n.js"></script>
  <!-- 你已有的逻辑（不改动）：读取上方各 id 并写入 #result -->
  <script src="./assets/app.js" defer></script>
</body>
</html>
