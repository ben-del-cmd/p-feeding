/* ================================
   Dark Select (desktop-friendly)
   统一深色下拉外观 + 短款尺寸
   追加到 assets/site.css 末尾即可
   ================================ */

:root{
  --sel-bg: #0f1f28;               /* 下拉面板背景 */
  --sel-surface:#0f2733;           /* 选择框背景 */
  --sel-text:#e9f1f3;              /* 文本颜色 */
  --sel-border:rgba(255,255,255,.18);
  --sel-hover:#153747;             /* 选中/悬停项 */
  --sel-focus:#18c08f;             /* 焦点高亮 */
}

/* 去除各浏览器原生样式，便于统一风格 */
select{
  -webkit-appearance:none;
  -moz-appearance:none;
  appearance:none;
  background-color:var(--sel-surface);
  color:var(--sel-text);
  border:1px solid var(--sel-border);
  border-radius:12px;
  padding:10px 36px 10px 12px;
  line-height:1.2;
  min-height:44px;
}

/* 短款尺寸（用于语言菜单等） */
#lang-select,
select.short,
select[data-ui="lang"]{
  min-width:160px;
  max-width:200px;
}

/* 自定义下拉箭头（SVG，不依赖图片文件） */
select:not([multiple]){
  background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="14" height="10" viewBox="0 0 24 24" fill="none" stroke="%23a7c4c9" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>');
  background-repeat:no-repeat;
  background-position:right 12px center;
  background-size:14px 10px;
}
select::-ms-expand{display:none;} /* 旧版 Edge/IE 的箭头 */

/* 焦点/键盘可达性 */
select:focus{
  outline:none;
  border-color:var(--sel-focus);
  box-shadow:0 0 0 3px rgba(24,192,143,.35);
}

/* 真正的下拉面板（多数桌面浏览器可生效） */
select option,
select optgroup{
  background:var(--sel-bg);
  color:var(--sel-text);
}
select option:hover,
select option:checked{
  background:var(--sel-hover);
  color:#fff;
}

/* 滚动条（WebKit/Blink） */
select::-webkit-scrollbar{
  width:10px;
  height:10px;
}
select::-webkit-scrollbar-thumb{
  background:rgba(255,255,255,.18);
  border-radius:8px;
}
select::-webkit-scrollbar-track{
  background:rgba(255,255,255,.06);
}

/* Firefox 焦点样式微调 */
@-moz-document url-prefix(){
  select:focus{
    box-shadow:0 0 0 2px rgba(24,192,143,.4),0 0 0 1px var(--sel-focus) inset;
  }
}
/* === Language dropdown: fixed width & dark list === */
:root{
  --nav-border: rgba(255,255,255,.12);
  --ring: rgba(20,184,166,.65);         /* teal-ish focus color */
  --ring-soft: rgba(20,184,166,.25);
  --dd-bg: #0f2230;                      /* dropdown surface */
  --dd-bg-2: #0b1a26;                    /* hover/active */
  --dd-fg: #e8f2ff;                      /* dropdown text */
}

/* 保证导航能把语言选择器挤到右侧，并留出间距 */
.navbar .container{
  display:flex;
  align-items:center;
  gap:20px;
  flex-wrap:wrap;
}
.navbar #lang-select{ margin-left:auto; }

/* 固定宽度，防止覆盖菜单；同时深色外观 */
#lang-select{
  min-width: 130px;
  width: 180px;
  max-width: 220px;
  background: var(--dd-bg);
  color: var(--dd-fg);
  border: 1px solid var(--nav-border);
  border-radius: 12px;
  padding: 8px 36px 8px 12px;            /* 右侧留位置给浏览器自带箭头 */
  line-height: 1.25;
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  outline: none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

/* 聚焦高亮（与按钮同风格） */
#lang-select:focus{
  border-color: var(--ring);
  box-shadow: 0 0 0 3px var(--ring-soft);
}

/* 桌面端选项列表的深色背景（部分移动端不受控，这是浏览器限制） */
#lang-select option{
  background: var(--dd-bg);
  color: var(--dd-fg);
}
#lang-select option:checked,
#lang-select option:focus{
  background: var(--dd-bg-2);
}

/* 更紧凑的下拉列表项高度（多数桌面浏览器有效） */
#lang-select option{
  padding: 8px 10px;
}

/* 视口变窄时适当收缩，避免顶栏拥挤 */
@media (max-width: 900px){
  #lang-select{ width: 160px; }
}
@media (max-width: 640px){
  #lang-select{ width: 130px; }
}

/* 通用：表单控件的深色外观（不覆盖你已有的具体控件样式） */
select, input[type="text"], input[type="number"], textarea{
  background: #102534;
  color: #e9f2fb;
  border: 1px solid var(--nav-border);
  border-radius: 10px;
}
select:focus, input[type="text"]:focus, input[type="number"]:focus, textarea:focus{
  border-color: var(--ring);
  box-shadow: 0 0 0 3px var(--ring-soft);
  outline: none;
}

/* 在部分浏览器上提示使用深色配色方案（尽力而为） */
:root { color-scheme: dark; }
