<!doctype html>
<button onclick="__setLang('zh-Hans')">中文(简)</button>
<button onclick="__setLang('fr-CA')">Français (Canada)</button>
</div>
</header>


<h1 data-i18n="h1.feedback">Feedback</h1>


<section class="card">
<div class="row">
<label for="t" data-i18n="form.type">Type</label>
<select id="t">
<option value="bug" data-i18n="form.type.bug">Bug</option>
<option value="feature" data-i18n="form.type.feature">Feature Request</option>
</select>
</div>
<div class="row" style="margin-top:12px;">
<label for="s" data-i18n="form.summary">Summary</label>
<input id="s" type="text" maxlength="120" data-i18n-placeholder="form.summary.ph" placeholder="One-line summary…">
</div>
<div class="row" style="margin-top:12px;">
<label for="d" data-i18n="form.details">Details</label>
<textarea id="d" data-i18n-placeholder="form.details.ph" placeholder="Steps to reproduce, expected result, screenshots/device info…"></textarea>
</div>
<div class="row" style="margin-top:12px;">
<button id="go" class="primary" data-i18n="btn.preview">Preview Draft</button>
</div>
<p style="margin-top:8px;color:#6b7280;font-size:14px;" data-i18n="footer.note.feedback">You will be redirected to GitHub to review and submit.</p>
</section>


<footer style="margin-top:24px;color:#6b7280;font-size:14px;">
<small>© p-feeding</small>
</footer>


<script>
(function(){
const repo = 'https://github.com/ben-del-cmd/p-feeding/issues/new';
document.getElementById('go').addEventListener('click', function(){
const lang = document.documentElement.lang || 'en-US';
const type = document.getElementById('t').value;
const summary = (document.getElementById('s').value||'').trim();
const details = (document.getElementById('d').value||'').trim();
const template = type==='bug' ? 'bug_report.yml' : 'feature_request.yml';
const body = details + '\n\n' + '— From p-feeding/feedback.html';
const params = new URLSearchParams();
params.set('template', template);
if(summary) params.set('title', summary);
if(body) params.set('body', body);
try{ window.plausible && window.plausible('Feedback', { props: { lang, type } }); }catch(e){}
location.href = repo + '?' + params.toString();
});
})();
</script>
</body>
</html>
